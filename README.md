# QingLong å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—

## ğŸ·ï¸ é•œåƒç‰ˆæœ¬è¯´æ˜

### åŸºç¡€é•œåƒåŒºåˆ«
| é•œåƒæ ‡ç­¾      | åŸºç¡€ç³»ç»Ÿ       | æ¨èä½¿ç”¨åœºæ™¯                  |
|--------------|---------------|----------------------------|
| `latest`     | Alpine Linux  | å¸¸è§„ä½¿ç”¨ï¼ˆä½“ç§¯æ›´å°ï¼Œèµ„æºå ç”¨æ›´ä½ï¼‰   |
| `debian`     | Debian Slim   | éœ€è¦å¤æ‚ä¾èµ–/å…¼å®¹æ€§è¦æ±‚é«˜çš„ç¯å¢ƒ     |

### é•œåƒæ‹‰å–å‘½ä»¤
```bash
# é»˜è®¤Alpineç‰ˆæœ¬
docker pull whyour/qinglong:latest

# Debianç‰ˆæœ¬
docker pull whyour/qinglong:debian
```

## ğŸš¢ Docker éƒ¨ç½²é…ç½®

### æœ€å°åŒ–éƒ¨ç½²å‘½ä»¤
```bash
docker run -dit \
  -v $(pwd)/ql/data:/ql/data \
  -p 5700:5700 \
  -e QlBaseUrl="/" \
  -e QlPort="5700" \
  --name qinglong \
  --hostname qinglong \
  --restart unless-stopped \
  whyour/qinglong:latest
```

### é…ç½®å‚æ•°è¯´æ˜
| å‚æ•°                 | å¿…é¡»  | é»˜è®¤å€¼   | è¯´æ˜                                                                 |
|----------------------|-------|---------|---------------------------------------------------------------------|
| `-v [path]:/ql/data` | âœ…    | æ—       | æ•°æ®æŒä¹…åŒ–ç›®å½•ï¼Œæ¨èä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆå¦‚ï¼š`/opt/ql/data:/ql/data`ï¼‰            |
| `-p [host]:[container]` | âœ… | 5700    | ç«¯å£æ˜ å°„ï¼ˆä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ï¼‰ï¼Œä¿®æ”¹åéœ€åŒæ­¥è°ƒæ•´QlPort                          |
| `QlBaseUrl`          | âŒ    | /       | WEBè®¿é—®è·¯å¾„ï¼ˆå¦‚éœ€è®¾ç½®ä¸º`/test`ï¼Œéœ€é…åˆåå‘ä»£ç†ä½¿ç”¨ï¼‰                          |
| `QlPort`             | âŒ    | 5700    | å®¹å™¨å†…éƒ¨æœåŠ¡è¿è¡Œç«¯å£ï¼ˆä½¿ç”¨hostç½‘ç»œæ¨¡å¼æ—¶å¿…é¡»æ˜¾å¼å£°æ˜ï¼‰                          |

## ğŸ”§ ä¾èµ–ç®¡ç†

### ä¸€é”®å®‰è£…è„šæœ¬
```bash
# ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿå®‰è£…
bash <(curl -sL https://ghproxy.cn/https://github.com/xiaohaohhh/qinglong_xh/raw/main/scripts/development_install.sh)
```

### ä¸»è¦åŠŸèƒ½ç‰¹æ€§
- ğŸ“¦ è‡ªåŠ¨å®‰è£… Node.js/Python åŸºç¡€ä¾èµ–
- ğŸ› ï¸ ç¼–è¯‘æ„å»º Canvas æ”¯æŒ
- ğŸŒ é…ç½®æ·˜å®NPMé•œåƒæºåŠ é€Ÿ
- âœ… ä¾èµ–å®Œæ•´æ€§éªŒè¯
- ğŸ§ è‡ªåŠ¨é€‚é… Alpine/Debian ç¯å¢ƒ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®æŒä¹…åŒ–**  
   åŠ¡å¿…ä¿è¯ `/ql/data` ç›®å½•çš„æŒä¹…åŒ–æŒ‚è½½ï¼Œé¿å…å®¹å™¨é‡å»ºæ—¶æ•°æ®ä¸¢å¤±

2. **ç«¯å£å†²çªå¤„ç†**  
   å½“å‡ºç°ä»¥ä¸‹é”™è¯¯æ—¶ï¼Œè¡¨ç¤ºç«¯å£è¢«å ç”¨ï¼š
   ```bash
   docker: Error response from daemon: Ports are not available...
   ```
   è§£å†³æ–¹æ¡ˆï¼š  
   - æ›´æ”¹ä¸»æœºç«¯å£ï¼š`-p 5701:5700`
   - åœæ­¢å ç”¨è¿›ç¨‹

3. **èµ„æºç›‘æ§**  
   æ¨èé…ç½®èµ„æºé™åˆ¶é˜²æ­¢å†…å­˜æ³„æ¼ï¼š
   ```bash
   --memory 768m --memory-swap 1g
   ```

4. **ç½‘ç»œé—®é¢˜æ’æŸ¥**  
   å›½å†…æœåŠ¡å™¨å»ºè®®é…ç½®é•œåƒåŠ é€Ÿï¼š
   ```bash
   -e NPM_CONFIG_REGISTRY=https://registry.npmmirror.com
   ```

## ğŸ“š å¸¸ç”¨å‘½ä»¤å‚è€ƒ

### å®¹å™¨ç®¡ç†
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker logs -f qinglong

# æ‰§è¡Œå®¹å™¨å†…å‘½ä»¤
docker exec qinglong node -v

# å¤‡ä»½æ•°æ®ç›®å½•
tar -czvf ql_backup_$(date +%Y%m%d).tar.gz /ql/data
```

### æœåŠ¡ç®¡ç†
```bash
# é‡å¯é¢æ¿æœåŠ¡ï¼ˆå®¹å™¨å†…æ‰§è¡Œï¼‰
ql restart

# æ›´æ–°é¢æ¿ä»£ç ï¼ˆå®¹å™¨å†…æ‰§è¡Œï¼‰
ql update
```